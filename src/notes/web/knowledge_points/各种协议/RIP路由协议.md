---
order: 1
---

# RIP路由协议

基于==矢量路由协议==，采用==Bellman-Ford算法==

## 基本概念

2. 最多支持15跳，16跳为目标不可达
3. 采用周期更新机制
4. 通过UDP的520端口发送消息
5. 不知道整个网络拓扑
6. 只能学到邻居路由器信息，每次更新最多25条路由

## 版本区别

### RIPv1

1. 广播方式发布报文
2. 只支持有类路由
3. 不支持路由聚合
4. 不支持可变长度子网掩码VLSM技术（即掩码只能是/8、/16、/24）
5. 不支持次优路径检测

### RIPv2

1. 广播或组播方式发布报文
2. 组播地址为224.0.0.9
3. RIPv1不支持的都支持

## 路由计时器

1. 更新定时器：30s。周期发送更新报文
2. 老化定时器：180s。超过180s没有收到邻居发来的更新报文，就认为路由不可达
3. 垃圾收集定时器：过了180s后再过120s。过了这个时间没有收到邻居更新报文，就删了这条路由
4. 抑制定时器：0s

## 防环机制

1. 水平分割：从A接口学到的就不会再从A接口通告出去
2. 毒性反转：从A接口学到的把跳数设置成16跳后才能允许从A接口通告出去
3. 触发更新：一旦检测到路由变更了就立即发送路由更新，不会等待周期更新
4. 抑制计时器：环路使得路由跳数增加到16跳以后，这个路由就自动被抑制

::: tip 冷知识

产生环路最根本的原因就是因为周期更新的原因。

:::

## 华为配置

具体可以点击这里看[实验操作](../../huawei/八、RIP路由协议配置.md)