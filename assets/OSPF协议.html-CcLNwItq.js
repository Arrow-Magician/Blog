import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,f as r,a as o,b as l,d as n,e as s,r as p,o as d}from"./app-BMPm3d_6.js";const h="/Blog/assets/image-20241105233740942-B-l9VyBA.png",c="/Blog/assets/image-20241106113349273-jXXP3ofU.png",m={};function u(g,e){const i=p("RouteLink");return d(),t("div",null,[e[2]||(e[2]=r('<h1 id="ospf协议" tabindex="-1"><a class="header-anchor" href="#ospf协议"><span>OSPF协议</span></a></h1><p>基于<mark>链路状态路由协议</mark>，采用<mark>Dijkstra算法</mark>。</p><h2 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念"><span>基本概念</span></a></h2><ol><li>封装在IP层，协议号89</li><li>组播地址<mark>224.0.0.5</mark>和<mark>224.0.0.6</mark></li><li>触发更新机制</li><li>影响邻居建立因素：router ID、area ID、hello时间、协议认证、子网掩码</li><li>不同OSPF进程号，不影响建立邻居</li><li>cost越小，路径约优</li><li>本身不存在环路</li></ol><h2 id="区域类型" tabindex="-1"><a class="header-anchor" href="#区域类型"><span>区域类型</span></a></h2><ul><li><p>分单区域和多区域</p></li><li><p>area 0 (0.0.0.0) 为骨干区域，而且是必须存在的区域，无论是单区域还是多区域</p></li><li><p>骨干区域不能分裂，必须要分裂的情况只能通过虚链路技术解决</p></li></ul><h2 id="设备类型" tabindex="-1"><a class="header-anchor" href="#设备类型"><span>设备类型</span></a></h2><p>ABR：区域边界路由器，跨越OSPF不同区域的路由器</p><p>ASBR：自治域边界路由器，用来连接非OSPF路由区域的路由器</p><figure><img src="'+h+'" alt="image-20241105233740942" tabindex="0" loading="lazy"><figcaption>image-20241105233740942</figcaption></figure><h2 id="特殊区域" tabindex="-1"><a class="header-anchor" href="#特殊区域"><span>特殊区域</span></a></h2><ul><li><p>stub末节区域</p></li><li><p>totally stub完全末节区域</p></li><li><p>NSSA非纯末节区域</p></li><li><p>totally NSSA非纯完全末节区域</p></li></ul><figure><img src="'+c+'" alt="image-20241106113349273" tabindex="0" loading="lazy"><figcaption>image-20241106113349273</figcaption></figure><h2 id="报文类型" tabindex="-1"><a class="header-anchor" href="#报文类型"><span>报文类型</span></a></h2><ol><li>Hello 报文：建立和维持邻居关系，周期型发送，4倍Hello时间没有收到Hello报文，就认为邻居断开</li><li>DD 报文：描述LSDB摘要信息</li><li>LSR 报文：向对方请求LSA</li><li>LSU 报文：向对方发送LSA</li><li>LSAck 报文：对收到LSA确认</li></ol><h2 id="选举" tabindex="-1"><a class="header-anchor" href="#选举"><span>选举</span></a></h2><p>简单来说就是选老大、老二，然后其他人就只和老大、老二联系就行了</p><h3 id="router-id选举" tabindex="-1"><a class="header-anchor" href="#router-id选举"><span>router ID选举</span></a></h3><ol><li>手动配置路由器全局 router ID</li><li>OSPF 进程下手动配置 router ID</li><li>选择LoopBack接口IP地址最大的作为router ID</li><li>选择活跃的物理接口IP地址最大的作为router ID</li></ol><h3 id="dr、bdr选举" tabindex="-1"><a class="header-anchor" href="#dr、bdr选举"><span>DR、BDR选举</span></a></h3><ol><li>优先级越大的越优先成为DR，其次为BDR</li><li>选举router ID最大的作为DR，其次为BDR</li></ol><h2 id="lsa类型" tabindex="-1"><a class="header-anchor" href="#lsa类型"><span>LSA类型</span></a></h2><ol><li>1-LSA：描述每台路由器所在区域的链路状态信息，会在本区域泛洪</li><li>2-LSA：描述区域间Drother列表</li><li>3-LSA：描述区域间路由信息</li><li>4-LSA：描述ASBR信息，研究怎么到ASBR</li><li>5-LSA：描述OSPF外部路由信息</li><li>7-LSA：5-LSA有的都有，且7-LSA只在NSSA中才会出现</li></ol><h2 id="华为配置" tabindex="-1"><a class="header-anchor" href="#华为配置"><span>华为配置</span></a></h2>',24)),o("p",null,[e[1]||(e[1]=l("具体可以点击这里看")),n(i,{to:"/notes/web/huawei/%E4%B9%9D%E3%80%81OSPF%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE.html"},{default:s(()=>e[0]||(e[0]=[l("实验操作")])),_:1})])])}const D=a(m,[["render",u],["__file","OSPF协议.html.vue"]]),f=JSON.parse('{"path":"/notes/web/knowledge_points/%E5%90%84%E7%A7%8D%E5%8D%8F%E8%AE%AE/OSPF%E5%8D%8F%E8%AE%AE.html","title":"OSPF协议","lang":"zh-CN","frontmatter":{"order":2,"description":"OSPF协议 基于链路状态路由协议，采用Dijkstra算法。 基本概念 封装在IP层，协议号89 组播地址224.0.0.5和224.0.0.6 触发更新机制 影响邻居建立因素：router ID、area ID、hello时间、协议认证、子网掩码 不同OSPF进程号，不影响建立邻居 cost越小，路径约优 本身不存在环路 区域类型 分单区域和多区域...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/Blog/notes/web/knowledge_points/%E5%90%84%E7%A7%8D%E5%8D%8F%E8%AE%AE/OSPF%E5%8D%8F%E8%AE%AE.html"}],["meta",{"property":"og:site_name","content":"A.M. Blog"}],["meta",{"property":"og:title","content":"OSPF协议"}],["meta",{"property":"og:description","content":"OSPF协议 基于链路状态路由协议，采用Dijkstra算法。 基本概念 封装在IP层，协议号89 组播地址224.0.0.5和224.0.0.6 触发更新机制 影响邻居建立因素：router ID、area ID、hello时间、协议认证、子网掩码 不同OSPF进程号，不影响建立邻居 cost越小，路径约优 本身不存在环路 区域类型 分单区域和多区域..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-08T13:51:43.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-08T13:51:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"OSPF协议\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-08T13:51:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Arrow Magician\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"基本概念","slug":"基本概念","link":"#基本概念","children":[]},{"level":2,"title":"区域类型","slug":"区域类型","link":"#区域类型","children":[]},{"level":2,"title":"设备类型","slug":"设备类型","link":"#设备类型","children":[]},{"level":2,"title":"特殊区域","slug":"特殊区域","link":"#特殊区域","children":[]},{"level":2,"title":"报文类型","slug":"报文类型","link":"#报文类型","children":[]},{"level":2,"title":"选举","slug":"选举","link":"#选举","children":[{"level":3,"title":"router ID选举","slug":"router-id选举","link":"#router-id选举","children":[]},{"level":3,"title":"DR、BDR选举","slug":"dr、bdr选举","link":"#dr、bdr选举","children":[]}]},{"level":2,"title":"LSA类型","slug":"lsa类型","link":"#lsa类型","children":[]},{"level":2,"title":"华为配置","slug":"华为配置","link":"#华为配置","children":[]}],"git":{"createdTime":1731073903000,"updatedTime":1731073903000,"contributors":[{"name":"Arrow-Magician","email":"315903697@qq.com","commits":1}]},"readingTime":{"minutes":1.99,"words":597},"filePathRelative":"notes/web/knowledge_points/各种协议/OSPF协议.md","localizedDate":"2024年11月8日","autoDesc":true}');export{D as comp,f as data};
