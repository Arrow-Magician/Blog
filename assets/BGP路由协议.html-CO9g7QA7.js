import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,f as n,a as o,b as t,d as r,e as s,r as p,o as h}from"./app-BMPm3d_6.js";const c="/Blog/assets/image-20241107223920221-NFkgoQqe.png",d="/Blog/assets/image-20241107224841778-CfqeF7uZ.png",m={};function g(B,e){const a=p("RouteLink");return h(),l("div",null,[e[2]||(e[2]=n('<h1 id="bgp路由协议" tabindex="-1"><a class="header-anchor" href="#bgp路由协议"><span>BGP路由协议</span></a></h1><p>基于<mark>距离矢量路由协议</mark>，适用于<mark>自治域（AS）之间</mark>路由</p><h2 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念"><span>基本概念</span></a></h2><ol><li>EBGP对等体：AS边界路由相连</li><li>AS内部路由只有建立IBGP对等体才可以传递和接收BGP路由条目</li><li>报文分装在传输层，端口179</li><li>采用触发更新机制</li></ol><h2 id="报文类型" tabindex="-1"><a class="header-anchor" href="#报文类型"><span>报文类型</span></a></h2><ol><li>Open报文：建立BGP对等体连接</li><li>Update报文：通知网络是否更新或撤销</li><li>Notification报文：通知对等路由器检测到错误</li><li>Keepalive报文：维持BGP邻居，每60s周期发送。如果180s没有收到，则认为邻居断开</li><li>Rout-refresh报文：在改变路由策略后请求对等体重新发送路由信息</li></ol><h2 id="防环机制" tabindex="-1"><a class="header-anchor" href="#防环机制"><span>防环机制</span></a></h2><h3 id="_1-水平分割机制" tabindex="-1"><a class="header-anchor" href="#_1-水平分割机制"><span>1. 水平分割机制</span></a></h3><p>IBGP收到的路由只能传一跳，一旦IBGP收到路由以后，就不会传到下一跳了</p><figure><img src="'+c+'" alt="水平分割机制" tabindex="0" loading="lazy"><figcaption>水平分割机制</figcaption></figure><h3 id="_2-通过as-path防环" tabindex="-1"><a class="header-anchor" href="#_2-通过as-path防环"><span>2. 通过AS_Path防环</span></a></h3><figure><img src="'+d+'" alt="AS_Path防环机制" tabindex="0" loading="lazy"><figcaption>AS_Path防环机制</figcaption></figure><h3 id="防环机制导致无法传递路由问题" tabindex="-1"><a class="header-anchor" href="#防环机制导致无法传递路由问题"><span>防环机制导致无法传递路由问题</span></a></h3><p>但是，防环机制也会带来一定的问题：无法传递路由。因此解决这个问题，就需要一些方法</p><ol><li><p>AS内部使用IBGP全互联</p></li><li><p>AS内部使用RR路由反射器</p></li><li><p>AS内部使用联盟</p></li></ol><h2 id="路由属性" tabindex="-1"><a class="header-anchor" href="#路由属性"><span>路由属性</span></a></h2><ol><li><p>公认必遵：Origin，AS_Path，Next_hop</p></li><li><p>公认任意：Local_Preference，Atomic_aggrega</p></li><li><p>可选过渡：Aggregator，Community</p></li><li><p>可选非过渡：MED，Cluster-List，Originator-ID</p></li></ol><h2 id="华为配置" tabindex="-1"><a class="header-anchor" href="#华为配置"><span>华为配置</span></a></h2>',18)),o("p",null,[e[1]||(e[1]=t("具体可以点击这里看")),r(a,{to:"/notes/web/huawei/%E5%8D%81%E4%B8%80%E3%80%81BGP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE.html"},{default:s(()=>e[0]||(e[0]=[t("实验操作")])),_:1})])])}const _=i(m,[["render",g],["__file","BGP路由协议.html.vue"]]),f=JSON.parse('{"path":"/notes/web/knowledge_points/%E5%90%84%E7%A7%8D%E5%8D%8F%E8%AE%AE/BGP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE.html","title":"BGP路由协议","lang":"zh-CN","frontmatter":{"order":5,"description":"BGP路由协议 基于距离矢量路由协议，适用于自治域（AS）之间路由 基本概念 EBGP对等体：AS边界路由相连 AS内部路由只有建立IBGP对等体才可以传递和接收BGP路由条目 报文分装在传输层，端口179 采用触发更新机制 报文类型 Open报文：建立BGP对等体连接 Update报文：通知网络是否更新或撤销 Notification报文：通知对等路...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/Blog/notes/web/knowledge_points/%E5%90%84%E7%A7%8D%E5%8D%8F%E8%AE%AE/BGP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE.html"}],["meta",{"property":"og:site_name","content":"A.M. Blog"}],["meta",{"property":"og:title","content":"BGP路由协议"}],["meta",{"property":"og:description","content":"BGP路由协议 基于距离矢量路由协议，适用于自治域（AS）之间路由 基本概念 EBGP对等体：AS边界路由相连 AS内部路由只有建立IBGP对等体才可以传递和接收BGP路由条目 报文分装在传输层，端口179 采用触发更新机制 报文类型 Open报文：建立BGP对等体连接 Update报文：通知网络是否更新或撤销 Notification报文：通知对等路..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-08T13:51:43.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-08T13:51:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"BGP路由协议\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-08T13:51:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Arrow Magician\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"基本概念","slug":"基本概念","link":"#基本概念","children":[]},{"level":2,"title":"报文类型","slug":"报文类型","link":"#报文类型","children":[]},{"level":2,"title":"防环机制","slug":"防环机制","link":"#防环机制","children":[{"level":3,"title":"1. 水平分割机制","slug":"_1-水平分割机制","link":"#_1-水平分割机制","children":[]},{"level":3,"title":"2. 通过AS_Path防环","slug":"_2-通过as-path防环","link":"#_2-通过as-path防环","children":[]},{"level":3,"title":"防环机制导致无法传递路由问题","slug":"防环机制导致无法传递路由问题","link":"#防环机制导致无法传递路由问题","children":[]}]},{"level":2,"title":"路由属性","slug":"路由属性","link":"#路由属性","children":[]},{"level":2,"title":"华为配置","slug":"华为配置","link":"#华为配置","children":[]}],"git":{"createdTime":1731073903000,"updatedTime":1731073903000,"contributors":[{"name":"Arrow-Magician","email":"315903697@qq.com","commits":1}]},"readingTime":{"minutes":1.33,"words":400},"filePathRelative":"notes/web/knowledge_points/各种协议/BGP路由协议.md","localizedDate":"2024年11月8日","autoDesc":true}');export{_ as comp,f as data};
